<div class="p-2">
  <div class="w-100 d-flex justify-content-between align-items-center border-bottom pb-2">
    <div>
      <span class="h5">{{info.name}}</span>
    </div>
    <div>
      <button mat-icon-button (click)="close()">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>

  <div *ngIf="loading || info.name === '';else resultBlock">
    <div class="text-center">
      <img src="../../../assets/loading.svg" alt="" class="loading-wait">
      <p class="text-muted">Please wait while the data loads...</p>
    </div>
  </div>

  <ng-template #resultBlock>
    <div *ngIf="error.hasError; else infoBlock" class="pt-3">
      Could not fetch data {{!info.notes ? 'and notes' : ''}} for <b>{{info.name}}</b> {{info.notes? 'but we have some notes available' : ''}}. This could be because,
      <ul class="pl-3 pt-2">
        <li>Structure does not have an ontology ID.</li>
        <li>Structure has an invalid ontology ID.</li>
        <li>Broken network connection.</li>
      </ul>
      <div *ngIf="info.notes">
        <div class="pt-3"></div>

        <label><strong>Notes</strong></label>
        <div>
          {{info.notes}}
        </div>
      </div>
    </div>
  </ng-template>


  <ng-template #infoBlock>
    <div *ngIf="!error.hasError" class="py-3 info">
      <label><b>Description</b></label>
      <div>
        {{info.desc ? info.desc : 'No description found.'}}
      </div>

      <div class="pt-3"></div>

      <label><b>Ontology ID</b></label>
      <div>
        {{info.ontologyId ? info.ontologyId : 'No ID found.'}}
      </div>

      

      <div class="pt-3"></div>

      <label><b>{{ info.ontologyCode === 'HGNC' ? 'Link' : 'IRI'}}</b></label>
      <div>
        <a [href]="info.iri" target="_blank" class="text-info">{{info.iri ? info.iri : 'No IRI found.'}}</a>
      </div>

      <div class="pt-3"></div>

      <label><strong>Notes</strong></label>
      <div>
        {{info.notes? info.notes : 'No Notes Found'}}
      </div>
      <div *ngIf="info.entrezLink">
      <div class="pt-3"></div>

      <label ><b>Entrez Link</b></label>
      <div>
        <a [href]="info.entrezLink" target="_blank" class="text-info">{{info.entrezLink ? info.entrezLink : 'No Entrez Link found.'}}</a>
      </div>
    </div>

    <div *ngIf="info.uniprotLink">
      <div class="pt-3"></div>
      <label ><b>Uniprot Link</b></label>
      <div>
        <a [href]="info.uniprotLink" target="_blank" class="text-info">{{info.uniprotLink ? info.uniprotLink : 'No Uniprot Link found.'}}</a>
      </div>
    </div>

      
    </div>
  </ng-template>
</div>
